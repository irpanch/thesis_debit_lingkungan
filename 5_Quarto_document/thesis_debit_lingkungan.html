<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Irpan Chumaedi">

<title>Kajian Debit Lingkungan di Sungai Citarum Hulu</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="thesis_debit_lingkungan_files/libs/clipboard/clipboard.min.js"></script>
<script src="thesis_debit_lingkungan_files/libs/quarto-html/quarto.js"></script>
<script src="thesis_debit_lingkungan_files/libs/quarto-html/popper.min.js"></script>
<script src="thesis_debit_lingkungan_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="thesis_debit_lingkungan_files/libs/quarto-html/anchor.min.js"></script>
<link href="thesis_debit_lingkungan_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="thesis_debit_lingkungan_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="thesis_debit_lingkungan_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="thesis_debit_lingkungan_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="thesis_debit_lingkungan_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#abstrak" id="toc-abstrak" class="nav-link active" data-scroll-target="#abstrak">Abstrak</a></li>
  <li><a href="#sec-pendahuluan" id="toc-sec-pendahuluan" class="nav-link" data-scroll-target="#sec-pendahuluan"><span class="header-section-number">1</span> Pendahuluan</a>
  <ul class="collapse">
  <li><a href="#sec-latar-belakang" id="toc-sec-latar-belakang" class="nav-link" data-scroll-target="#sec-latar-belakang"><span class="header-section-number">1.1</span> Latar Belakang</a></li>
  <li><a href="#masalah-penelitian" id="toc-masalah-penelitian" class="nav-link" data-scroll-target="#masalah-penelitian"><span class="header-section-number">1.2</span> Masalah Penelitian</a></li>
  <li><a href="#maksud-dan-tujuan-penelitian" id="toc-maksud-dan-tujuan-penelitian" class="nav-link" data-scroll-target="#maksud-dan-tujuan-penelitian"><span class="header-section-number">1.3</span> Maksud dan Tujuan Penelitian</a></li>
  <li><a href="#lingkup-studi" id="toc-lingkup-studi" class="nav-link" data-scroll-target="#lingkup-studi"><span class="header-section-number">1.4</span> Lingkup Studi</a></li>
  <li><a href="#batasan-masalah" id="toc-batasan-masalah" class="nav-link" data-scroll-target="#batasan-masalah"><span class="header-section-number">1.5</span> Batasan Masalah</a></li>
  <li><a href="#lokasi-kajian" id="toc-lokasi-kajian" class="nav-link" data-scroll-target="#lokasi-kajian"><span class="header-section-number">1.6</span> Lokasi Kajian</a></li>
  <li><a href="#sistematika-penulisan" id="toc-sistematika-penulisan" class="nav-link" data-scroll-target="#sistematika-penulisan"><span class="header-section-number">1.7</span> Sistematika Penulisan</a></li>
  </ul></li>
  <li><a href="#tinjauan-pustaka" id="toc-tinjauan-pustaka" class="nav-link" data-scroll-target="#tinjauan-pustaka"><span class="header-section-number">2</span> Tinjauan Pustaka</a>
  <ul class="collapse">
  <li><a href="#studi-literatur" id="toc-studi-literatur" class="nav-link" data-scroll-target="#studi-literatur"><span class="header-section-number">2.1</span> Studi Literatur</a></li>
  <li><a href="#sungai-dan-das" id="toc-sungai-dan-das" class="nav-link" data-scroll-target="#sungai-dan-das"><span class="header-section-number">2.2</span> Sungai dan DAS</a></li>
  <li><a href="#analisa-debit-lingkungan" id="toc-analisa-debit-lingkungan" class="nav-link" data-scroll-target="#analisa-debit-lingkungan"><span class="header-section-number">2.3</span> Analisa Debit Lingkungan</a></li>
  </ul></li>
  <li><a href="#metodologi-penelitian" id="toc-metodologi-penelitian" class="nav-link" data-scroll-target="#metodologi-penelitian"><span class="header-section-number">3</span> Metodologi Penelitian</a></li>
  <li><a href="#analisa" id="toc-analisa" class="nav-link" data-scroll-target="#analisa"><span class="header-section-number">4</span> Analisa</a>
  <ul class="collapse">
  <li><a href="#analisa-lengkung-durasi-debit-fdc" id="toc-analisa-lengkung-durasi-debit-fdc" class="nav-link" data-scroll-target="#analisa-lengkung-durasi-debit-fdc"><span class="header-section-number">4.1</span> Analisa Lengkung Durasi Debit (<em>FDC</em>)</a></li>
  <li><a href="#analisa-kesenjangan-debit" id="toc-analisa-kesenjangan-debit" class="nav-link" data-scroll-target="#analisa-kesenjangan-debit"><span class="header-section-number">4.2</span> Analisa Kesenjangan Debit</a></li>
  <li><a href="#tinjauan-berdasarkan-aturan-lingkungan" id="toc-tinjauan-berdasarkan-aturan-lingkungan" class="nav-link" data-scroll-target="#tinjauan-berdasarkan-aturan-lingkungan"><span class="header-section-number">4.3</span> Tinjauan Berdasarkan Aturan Lingkungan</a></li>
  <li><a href="#analisa-kecocokan-habitat" id="toc-analisa-kecocokan-habitat" class="nav-link" data-scroll-target="#analisa-kecocokan-habitat"><span class="header-section-number">4.4</span> Analisa Kecocokan Habitat</a></li>
  </ul></li>
  <li><a href="#kesimpulan" id="toc-kesimpulan" class="nav-link" data-scroll-target="#kesimpulan"><span class="header-section-number">5</span> Kesimpulan</a></li>
  <li><a href="#daftar-pustaka" id="toc-daftar-pustaka" class="nav-link" data-scroll-target="#daftar-pustaka">Daftar Pustaka</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Kajian Debit Lingkungan di Sungai Citarum Hulu</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Irpan Chumaedi </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="abstrak" class="level1 unnumbered">
<h1 class="unnumbered">Abstrak</h1>
<p>Perubahan karakteristik debit sungai akibat kegiatan antropogenik berdampak langsung pada segala mahluk hidup yang bergantung pada sungai tersebut. Selain daripada manusia, sungai merupakan tempat hidup habitat akuatik yang perlu dijaga kelestariannya. Dari sisi hidrologi mitigasi terhadap kebutuhan minimal air di sungai ini sudah dituangkan dalam bentuk “debit lingkungan” atau “debit pemeliharaan”, salah satu metode yang disarankan dalam aturan PP No.&nbsp;38 Tahun 2011 adalah Q<sub>95</sub>. Akan tetapi metode ini hanya didasarkan pada kebutuhan debit minimum sungai, tanpa melihat respon habitat yang ada di dalamnya.</p>
<p>Maksud dan tujuan dari penelitian adalah untuk mengetahui seberapa besar perubahan karakteristik debit (kesenjangan debit / <em>gap</em>) pada sungai citarum hulu, melakukan indentifikasi kondisi habitat asli serta memperoleh metode yang paling sesuai untuk yang mengakomodir kebutuhan habitat yang ada.</p>
<p>Dalam penelitian ini digunakan tiga metode pendekatan, yaitu: pendekatan hidrologi/hidrolika, pendekatan aturan lingkungan, dan pendekatan kondisi optimum habitat. Untuk hidrologi digunakan pengamatan debit tiga pos duga air (Sapan, Dayeuh Kolot, dan Nanjung) selama 17 tahun yang kemudian dilakukan analisa lengkung durasi debit (FDC). Nilai FDC tersebut kemudian dijadikan input/syarat batas pada pemodelan hidrolika untuk memperoleh karakteristik hidrolika seperti kecepatan dan kedalaman di tiap-tiap pos duga air.&nbsp; Berikutnya untuk aturan lingkungan menggunakan PP. No.&nbsp;82 Tahun 2001. Untuk kondisi optimum habitat didasarkan pada spesies ikan Hampala dikarenakan spesies asli terbanyak yang ada di Sungai Citarum Hulu.</p>
<p>Kesenjangan (<em>gap</em>) yang paling besar diantara pos duga air di Citarum Hulu ada di PDA Nanjung. Dimana dibandingkan periode 2004-2012, pada periode 2013-2020 terjadi peningkatan debit dibulan April sebesar 80.8% dan penurunan debit di Bulan Agustus sebesar 49.3%. dari hasil hidrologi dan hidrolika diperoleh nilai Debit Q<sub>95</sub> Di PDA Sapan 1.76 m<sup>3</sup>/dtk dengan kecepatan 0.08 m/dtk serta kedalaman muka air 1.07 m. Untuk PDA Dayeuh Kolot didapat nilai debit Q<sub>95</sub> 2.46 m<sup>3</sup>/dtk dengan kecepatan 0.05 m/dtk serta kedalaman muka air 3.61 m. Pada lokasi lain, PDA Nanjung, nilai Debit Q<sub>95</sub> 5.81 m<sup>3</sup>/dtk dengan kecepatan 0.27 m/dtk serta kedalaman muka air 1.98 m.</p>
<p>Dari segi aturan lingkungan, belum terdapat batasan minimal untuk debit yang dibutuhkan untuk habitat perairan. Parameter yang dipakai adalah kualitas air yang tertera dalam PP No.&nbsp;82 Tahun 2001.</p>
<p>Untuk spesies habitat yang mewakili Sungai Citarum Hulu dipilih Ikan Hampala (<em>Hampala macrolepidota</em>). Kondisi lingkungan yang paling optimal pada ikan tersebut diantaranya kecepatan arus 0.02 m/detik dan kedalaman air 4.6 meter.</p>
<p>Kata kunci: debit lingkungan, habitat perairan, citarum hulu.</p>
</section>
<section id="sec-pendahuluan" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Pendahuluan</h1>
<section id="sec-latar-belakang" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="sec-latar-belakang"><span class="header-section-number">1.1</span> Latar Belakang</h2>
<p>Secara global, penggunaan air yang berlebihan menyebabkan masalah lingkungan yang sangat serius dalam beberapa dekade terakhir <span class="citation" data-cites="vörösmarty2010">(<a href="#ref-vörösmarty2010" role="doc-biblioref">Vörösmarty et al. 2010</a>)</span>. Air yang dibutuhkan oleh manusia naik secara eksponensial semenjak masa pra-industrialisasi khususnya setelah tahun 1950-an <span class="citation" data-cites="riverine2018">(<a href="#ref-riverine2018" role="doc-biblioref">Schmutz and Sendzimir 2018</a>)</span> . Krisis air yang terjadi bukan hanya terjadi dari sudut pandang manusia, namun juga biota air sungai yang hidup didalamnya. <em>World Wide Fund for Nature</em> atau <span class="citation" data-cites="wwf2020">WWF (<a href="#ref-wwf2020" role="doc-biblioref">2020</a>)</span>, menyebutkan bahwa hingga 84% hewan air tawar di seluruh dunia telah berkurang sejak tahun 1970.</p>
</section>
<section id="masalah-penelitian" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="masalah-penelitian"><span class="header-section-number">1.2</span> Masalah Penelitian</h2>
</section>
<section id="maksud-dan-tujuan-penelitian" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="maksud-dan-tujuan-penelitian"><span class="header-section-number">1.3</span> Maksud dan Tujuan Penelitian</h2>
</section>
<section id="lingkup-studi" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="lingkup-studi"><span class="header-section-number">1.4</span> Lingkup Studi</h2>
</section>
<section id="batasan-masalah" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="batasan-masalah"><span class="header-section-number">1.5</span> Batasan Masalah</h2>
</section>
<section id="lokasi-kajian" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="lokasi-kajian"><span class="header-section-number">1.6</span> Lokasi Kajian</h2>
</section>
<section id="sistematika-penulisan" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="sistematika-penulisan"><span class="header-section-number">1.7</span> Sistematika Penulisan</h2>
</section>
</section>
<section id="tinjauan-pustaka" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Tinjauan Pustaka</h1>
<section id="studi-literatur" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="studi-literatur"><span class="header-section-number">2.1</span> Studi Literatur</h2>
</section>
<section id="sungai-dan-das" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="sungai-dan-das"><span class="header-section-number">2.2</span> Sungai dan DAS</h2>
</section>
<section id="analisa-debit-lingkungan" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="analisa-debit-lingkungan"><span class="header-section-number">2.3</span> Analisa Debit Lingkungan</h2>
</section>
</section>
<section id="metodologi-penelitian" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Metodologi Penelitian</h1>
</section>
<section id="analisa" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Analisa</h1>
<section id="analisa-lengkung-durasi-debit-fdc" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="analisa-lengkung-durasi-debit-fdc"><span class="header-section-number">4.1</span> Analisa Lengkung Durasi Debit (<em>FDC</em>)</h2>
</section>
<section id="analisa-kesenjangan-debit" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="analisa-kesenjangan-debit"><span class="header-section-number">4.2</span> Analisa Kesenjangan Debit</h2>
</section>
<section id="tinjauan-berdasarkan-aturan-lingkungan" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="tinjauan-berdasarkan-aturan-lingkungan"><span class="header-section-number">4.3</span> Tinjauan Berdasarkan Aturan Lingkungan</h2>
</section>
<section id="analisa-kecocokan-habitat" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="analisa-kecocokan-habitat"><span class="header-section-number">4.4</span> Analisa Kecocokan Habitat</h2>
</section>
</section>
<section id="kesimpulan" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Kesimpulan</h1>
</section>
<section id="daftar-pustaka" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">Daftar Pustaka</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-riverine2018" class="csl-entry" role="listitem">
Schmutz, Stefan, and Jan Sendzimir, eds. 2018. <em>Riverine Ecosystem Management: Science for Governing Towards a Sustainable Future</em>. Cham: Springer International Publishing. <a href="https://doi.org/10.1007/978-3-319-73250-3">https://doi.org/10.1007/978-3-319-73250-3</a>.
</div>
<div id="ref-vörösmarty2010" class="csl-entry" role="listitem">
Vörösmarty, C. J., P. B. McIntyre, M. O. Gessner, D. Dudgeon, A. Prusevich, P. Green, S. Glidden, et al. 2010. <span>“Global Threats to Human Water Security and River Biodiversity.”</span> <em>Nature</em> 467 (7315): 555–61. <a href="https://doi.org/10.1038/nature09440">https://doi.org/10.1038/nature09440</a>.
</div>
<div id="ref-wwf2020" class="csl-entry" role="listitem">
WWF. 2020. <span>“Living Planet Report Freshwater Deepdive.”</span> <a href="https://f.hubspotusercontent20.net/hubfs/4783129/LPR/PDFs/Living_Planet_Report_Freshwater_Deepdive.pdf">https://f.hubspotusercontent20.net/hubfs/4783129/LPR/PDFs/Living_Planet_Report_Freshwater_Deepdive.pdf</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>